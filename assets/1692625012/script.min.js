var t="ontouchstart"in window,e=/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent);window.navigator.standalone&&(!0,document.documentElement.className+=" apple_web_app"),window.requestTimeout=function(t,e){var i,a=Date.now,o=window.requestAnimationFrame,n=a();return o((function r(){a()-n<e?i||o(r):t()})),{clear:function(){i=1}}};var i,a,o=document.querySelector("#scene"),n=document.querySelector("#controls"),r=document.querySelector("#start_number"),c=document.querySelector("#end_number"),s=document.querySelector("#generate"),h=document.querySelector("#reset"),u=o.getContext("2d"),l=[],m=0,d=!1;e||(i=new Audio("assets/s4.mp3"),a=new Audio("assets/s5.mp3"),T(i),T(a));var v=["a67c00","bf9b30","ffbf00","ffcf40","ffdc73"].map((function(t){var e=new Image,i=document.createElement("canvas"),a=i.getContext("2d");return i.width=i.height=24,e.onload=function(){a.drawImage(e,0,0,24,24)},e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23"+t+"' d='M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z'/%3E%3C/svg%3E",i}));try{r.value=parseInt(localStorage.getItem("LZNR_START_NUMBER"))||1,c.value=parseInt(localStorage.getItem("LZNR_END_NUMBER"))||100}catch(t){}var g=document.querySelector("#copy"),p=o.width=window.innerWidth,y=o.height=window.innerHeight;function f(e,i,a){if(a&&a<m){var o=l[a];this.x=o.x,this.y=o.y,this.img_index=o.img_index,this.r=o.r,this.vx=o.vx,this.vy=o.vy,this.accX=o.accX,this.accY=o.accY,this.friction=o.friction,this.angle=o.angle,this.angle_rotate=o.angle_rotate,this.opacity=1}else this.x=A()*p,this.y=A()*y,this.img_index=~~(A()*v.length),this.r=4*A()+~~(p/(t?90*("string"==typeof g.value?.8:.4*g.value.length):224)),this.vx=100*(A()-.5),this.vy=100*(A()-.5),this.accX=0,this.accY=0,this.friction=.02*A()+.85,this.angle=72*A()*Math.PI/180,this.angle_rotate=.04*A()-.02,this.opacity=0;this.dest={x:e,y:i}}function w(e,i){p=o.width=window.innerWidth,y=o.height=window.innerHeight;var a=document.createElement("canvas"),n=a.getContext("2d");a.width=p,a.height=y,n.fillStyle="#fff",n.textBaseline="middle",n.textAlign="center",n.font="Bold "+(i?p/(t?1.5:3):Math.max(p,y)/(t?g.value.length+.8:5))+"px Arial",n.fillText(g.value,p/2,y/2);var r=function(t,e){var i,a,o,n=e.width,r=e.height,c={x:[],y:[]},s=t.getImageData(0,0,n,r);for(a=0;a<r;a++)for(i=0;i<n;i++)o=4*(a*n+i),s.data[o+3]>0&&(c.x.push(i),c.y.push(a));c.x.sort((function(t,e){return t-e})),c.y.sort((function(t,e){return t-e}));var h=c.x.length-1;if(n=c.x[h]-c.x[0],r=c.y[h]-c.y[0],d){var u=t.getImageData(c.x[0],c.y[0],n,r);e.width=n,e.height=r,t.putImageData(u,0,0)}return{x:c.x[0],y:c.y[0],w:n,h:r}}(n,a),c=n.getImageData(r.x,r.y,r.w,r.h).data;delete a,e||(l=[]);for(var s=1==g.value?6:g.value.length*(i?22:11),h=0,u=0;u<r.w;u+=~~(r.w/s))for(var v=0;v<r.h;v+=~~(r.h/(r.h/r.w*s)))c[4*(u+v*r.w)+3]>150&&(l[h]=new f(p/2+u-r.w/2,y/2+v-r.h/2,h),h++);l=l.slice(0,h),m=l.length}f.prototype.render=function(){this.accX=(this.dest.x-this.x)/100,this.accY=(this.dest.y-this.y)/100,this.vx+=this.accX,this.vy+=this.accY,this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy,this.cx_min=Math.max(0,this.x-this.r-1),this.cx_max=Math.min(p,this.x+this.r+1),this.cy_min=Math.max(0,this.y-this.r-1),this.cy_max=Math.min(y,this.y+this.r+1),u.save(),u.translate(this.x,this.y),u.rotate(this.angle+=this.angle_rotate),this.opacity<1&&(this.opacity=this.opacity+.02,u.globalAlpha=this.opacity),u.drawImage(v[this.img_index],-this.r,-this.r,2*this.r,2*this.r),u.restore()},window.addEventListener("resize",(function(){requestAnimationFrame((function(){w(!0)}))})),document.querySelector("#settings").onclick=function(){return n.className="settings",$("#controls").data("active",requestTimeout((function(){$("#controls").removeClass("settings")}),2222)),!1},document.querySelector("#generate").onclick=function(t){return R(i),-1,requestTimeout((function(){for(var t=0;t<l.length;t++)l[t].dest={x:A()*p*2-p/2,y:A()*y*2-y/2},l[t].vx=100*(A()-.5),l[t].vy=100*(A()-.5);m=l.length}),222),s.className="active",clearTimeout(n.dataset.active),n.dataset.active=setTimeout((function(){s.className=""}),2e3),requestTimeout((function(){var t,e;g.value=(t=1*r.value,e=1*c.value,t=Math.ceil(t),e=Math.floor(e),Math.floor(A()*(e-t+1))+t),1,w(!0,!1)}),1111),!1},h.onclick=function(){return R(a),l=[],m=0,g.value=M("★♠♣♥♦⨯⧴✶≋∗↺⇆⇅∷∵∴≊⨳⨯⩮"),w(!1,!0),!1},n.submit=function(){return!1},$("#start_number, #end_number").on("focus click update paste keyup keydown touchstart",(function(e){if(localStorage.setItem("LZNR_START_NUMBER",r.value),localStorage.setItem("LZNR_END_NUMBER",c.value),clearTimeout(n.dataset.active),13===e.keyCode)return n.className="",!1;n.className="settings",n.dataset.active=setTimeout((function(){n.className=""}),t?5555:3333)})),e||(w(),requestAnimationFrame((function t(e){var i=p,a=y,o=0,n=0,r=0;if(m){for(var c=0;c<l.length;c++)r+=Math.abs(l[c].vx)+Math.abs(l[c].vy),i=l[c].cx_min<i?l[c].cx_min:i,a=l[c].cy_min<a?l[c].cy_min:a,o=l[c].cx_max>o?l[c].cx_max:o,n=l[c].cy_max>n?l[c].cy_max:n;if(r>16)for(u.clearRect(i-1,a-1,o-i+2,n-a+2),c=0;c<l.length;c++)l[c].render();else m=0}requestAnimationFrame(t)})));var x,_,b=["iGpuQ0ioPrM","rVVv5kUoxME","Jit13hBRW9A","volsw7nOvvk","MoQEPx30KHQ","HFKDGM89Hkg","kinYX7xihG0","HWa2XaY9NIw","9mubz5EVkrM","Ezgx8TZ3TfA","FG41mQ5v4Bo","c8FiT2m24YE","PP4UOtpU4CU","RsIfhgiNEVA","s2DdDABq5ZU","egsJUzc0ac0","Joep__aqsuQ","lElrd62isec","NvqB-JwhWh0","VamHgZKO6m8","vU4K5RdfVw4","iFiZFSxjY4o","atycPTJ6LWk","Nkmf9Sk3ssc","a7NAxZTtWKc","M2LQHw6lMWk","z8yNnOsRh3w","3VpEcsSipws","pMEZA3muW1k","6y4v9OjrCgo","87ePOFKZIHI","sVRiyjcTvvs","WC9rHRP-mnQ","gu8hN8ycD8w","XQmmNYmQvFg","_zhF90vT8-U"];function E(t,e){var i="https://lizaonair.com/giveaway/assets/video/360p/"+t+".mp4",a={id:t,streams:{"360p":i,webm360p:i}};return e(a),a}function M(t){return t[t.length*A()<<0]}function N(t){try{console.warn(t)}catch(t){}}function A(){if(window.crypto&&window.crypto.getRandomValues){var t=new Uint32Array(2);return crypto.getRandomValues(t),(t[0]*Math.pow(2,20)+(t[1]>>>12))*Math.pow(2,-52)}return Math.random()}function R(t,e,i){if(t&&"object"==typeof t)try{e=e||0,i=i||1,t.currentTime=e,t.playbackRate=i,t.play()}catch(t){N("Sound API error...")}}function T(t,e,i){if(t&&"object"==typeof t)try{e=e||0,i=i||1,t.pause(),t.currentTime=e,t.playbackRate=i,t.volume=.4}catch(t){N("Sound API error...")}}$((function(){if(e)return fasle;_=$("#trailer video"),x=_.get(0);var t=M(b);E(t,(function(e){var i,a,o=!(!e||!e.hasOwnProperty("streams"))&&e.streams;o&&o["360p"]?_.removeAttr("poster").attr({src:o[(i="webm",a=document.createElement("video"),{ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'},a&&a.canPlayType({ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'}[i]||i)?"webm360p":"360p")],muted:!0,autoplay:!0,preload:"auto",playsinline:!0,loop:!0,thumbnail:"https://img.youtube.com/vi/"+t+"/mqdefault.jpg"}):(_.removeAttr("src autoplay").attr({poster:"https://img.youtube.com/vi/"+t+"/mqdefault.jpg",muted:!0,preload:"none",playsinline:!0,loop:!0}),x.style.opacity=1),x.load()}))})),$((function(){if(e)return!1;$.getScript("//st.top100.ru/top100/top100.js",(function(){try{window.top100Counter=new top100({project:4440832,ecommerce:"dataLayer"})}catch(t){(new Image).src="//counter.rambler.ru/top100.cnt?pid=4440832"}}))}));